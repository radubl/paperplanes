var matrix=[];var oppmatrix=[];var chosenPoints=[];var openset=[];var planeArray=[];var opensetSize=0;var undefinedCellColor="red";var planeNumber=0;var undefinedOpacity=0.75;var undefinedHoverColor="#ccccff";var colorsArray=new Array("DarkMagenta","Chocolate","Coral ","Crimson","DarkBlue","DarkRed","DeepPink ","LightSeaGreen","OrangeRed","Tomato");var chosenColorList=new LinkedList();var canproceed=false;var planesLocked=false;var socket=io.connect();var playerName="";var html="";var allUsers=[];var infoContainer="";var playerReady=1;var rulesUp=true;var oppName="";var round=0;var timer;var chosenOppCell="";window.onload=function(){$("#battleships-title").show("slide",{direction:"left"},800,function(){var b="";for(var c=0;c<10;c++){matrix[c]=[];for(var a=0;a<10;a++){matrix[c][a]=new Cell(c,a);b+="<span class = 'cell' id='cell"+c+""+a+"'  ></span>"}}$("#yourgrid").html(b);loadExampleCells();var e=[];for(var c=0;c<100;c++){if(c<10){e[c]="#cell0"+c}else{e[c]="#cell"+c}}shuffle(e);var d=20;for(var c=0;c<e.length;c++){d+=29;$(e[c]).fadeIn(d)}$(".grid").fadeIn("slow",function(){$("#copyright").css("opacity","1");$("#copyright-container").css("margin-left","0px").css("width","560");$("#author-container").css("margin-right","-20px").css("width","300");$("#author").css("opacity","1");$("#showrules").css("opacity","1")})})};function loadExampleCells(){var a="";a+="<span class = 'e-cell' style='border:1px solid rgb(233, 233, 233);'></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='border:1px solid rgb(233, 233, 233);'></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='border:1px solid rgb(233, 233, 233);'></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";a+="<span class = 'e-cell' style='border:1px solid rgb(233, 233, 233);'></span>";a+="<span class = 'e-cell' style='background-color:LightSeaGreen;' ></span>";$("#example").html(a)}$(document).on("click","#reset",function(){resetGrid("")});$(document).on("mouseover",".cell",function(){$(this).css("background-color",undefinedHoverColor).css("opacity",undefinedOpacity)});$(document).on("mouseover",".oppcell",function(){$(this).css("background-color",undefinedHoverColor).css("opacity",undefinedOpacity)});$(document).on("mouseleave",".oppcell",function(){var b=$(this).attr("id").slice(-2).charAt(0);var a=$(this).attr("id").slice(-1);if(oppmatrix[b][a].color=="red"||oppmatrix[b][a].color==undefinedHoverColor){$(this).css("background-color",oppmatrix[b][a].color).css("opacity","1")}else{$(this).css("background-color",oppmatrix[b][a].color)}});$(document).on("mouseleave",".cell",function(){var b=$(this).attr("id").slice(-2).charAt(0);var a=$(this).attr("id").slice(-1);if(matrix[b][a].color=="red"||matrix[b][a].color==undefinedHoverColor){$(this).css("background-color",matrix[b][a].color).css("opacity","1")}else{$(this).css("background-color",matrix[b][a].color)}});$(document).on("mousedown",".cell",function(){if(!planesLocked){var b=$(this).attr("id").slice(-2).charAt(0);var a=$(this).attr("id").slice(-1);if(matrix[b][a].color=="white"){add_to_openset(matrix[b][a]);matrix[b][a].color=undefinedCellColor;$(this).css("background-color",undefinedCellColor).css("opacity","1")}else{remove_from_openset(matrix[b][a]);matrix[b][a].color="white";$(this).css("background-color","white")}checkForPlane(matrix[b][a]);checkProceed()}});function checkForPlane(l){if(openset_indexOf(l)!=-1){for(var g=0;g<opensetSize;g++){var h=openset[g];if(h.i>0&&h.i<9){if(h.j>2&&openset_indexOf(matrix[h.i][h.j-3])!=-1){if(openset_indexOf(matrix[h.i-1][h.j-3])!=-1&&openset_indexOf(matrix[h.i+1][h.j-3])!=-1){if(openset_indexOf(matrix[h.i][h.j-2])!=-1){if(openset_indexOf(matrix[h.i][h.j-1])!=-1&&openset_indexOf(matrix[h.i+1][h.j-1])!=-1&&openset_indexOf(matrix[h.i-1][h.j-1])!=-1){definePlane(matrix[h.i][h.j],"west");break}}}}}if(h.i>0&&h.i<9){if(h.j<7&&openset_indexOf(matrix[h.i][h.j+3])!=-1){if(openset_indexOf(matrix[h.i-1][h.j+3])!=-1&&openset_indexOf(matrix[h.i+1][h.j+3])!=-1){if(openset_indexOf(matrix[h.i][h.j+2])!=-1){if(openset_indexOf(matrix[h.i][h.j+1])!=-1&&openset_indexOf(matrix[h.i+1][h.j+1])!=-1&&openset_indexOf(matrix[h.i-1][h.j+1])!=-1){definePlane(matrix[h.i][h.j],"east");break}}}}}if(h.j>0&&h.j<9){if(h.i>2&&openset_indexOf(matrix[h.i-3][h.j])!=-1){if(openset_indexOf(matrix[h.i-3][h.j-1])!=-1&&openset_indexOf(matrix[h.i-3][h.j+1])!=-1){if(openset_indexOf(matrix[h.i-2][h.j])!=-1){if(openset_indexOf(matrix[h.i-1][h.j])!=-1&&openset_indexOf(matrix[h.i-1][h.j+1])!=-1&&openset_indexOf(matrix[h.i-1][h.j-1])!=-1){definePlane(matrix[h.i][h.j],"south");break}}}}}if(h.j>0&&h.j<9){if(h.i<7&&openset_indexOf(matrix[h.i+3][h.j])!=-1){if(openset_indexOf(matrix[h.i+3][h.j-1])!=-1&&openset_indexOf(matrix[h.i+3][h.j+1])!=-1){if(openset_indexOf(matrix[h.i+2][h.j])!=-1){if(openset_indexOf(matrix[h.i+1][h.j])!=-1&&openset_indexOf(matrix[h.i+1][h.j+1])!=-1&&openset_indexOf(matrix[h.i+1][h.j-1])!=-1){definePlane(matrix[h.i][h.j],"north");break}}}}}}}else{for(var g=0;g<planeNumber;g++){var f=0;var e=-1;for(f=0;f<8;f++){if(planeArray[g][f].i==l.i&&planeArray[g][f].j==l.j){e=0;console.log("not in openset");break}}if(e==0){for(var d=0;d<8;d++){if(d!=f){add_to_openset(planeArray[g][d]);var a="#cell"+planeArray[g][d].i+""+planeArray[g][d].j;$(a).css("background-color",undefinedCellColor).css("opacity","1");planeArray[g][d].color=undefinedCellColor}}for(var b=g;b<planeNumber-1;b++){for(var c=0;c<8;c++){planeArray[b][c]=planeArray[b+1][c]}}planeNumber--;break}}}}function definePlane(c,e){planeArray[planeNumber]=[];planeArray[planeNumber][0]=c;var d=0;switch(e){case"north":planeArray[planeNumber][++d]=(matrix[c.i+1][c.j]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j+1]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i+2][c.j]);planeArray[planeNumber][++d]=(matrix[c.i+3][c.j]);planeArray[planeNumber][++d]=(matrix[c.i+3][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i+3][c.j+1]);break;case"south":planeArray[planeNumber][++d]=(matrix[c.i-1][c.j]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j+1]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i-2][c.j]);planeArray[planeNumber][++d]=(matrix[c.i-3][c.j]);planeArray[planeNumber][++d]=(matrix[c.i-3][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i-3][c.j+1]);break;case"east":planeArray[planeNumber][++d]=(matrix[c.i][c.j+1]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j+1]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j+1]);planeArray[planeNumber][++d]=(matrix[c.i][c.j+2]);planeArray[planeNumber][++d]=(matrix[c.i][c.j+3]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j+3]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j+3]);break;case"west":planeArray[planeNumber][++d]=(matrix[c.i][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j-1]);planeArray[planeNumber][++d]=(matrix[c.i][c.j-2]);planeArray[planeNumber][++d]=(matrix[c.i][c.j-3]);planeArray[planeNumber][++d]=(matrix[c.i-1][c.j-3]);planeArray[planeNumber][++d]=(matrix[c.i+1][c.j-3]);break}do{if(chosenColorList.getSize()==colorsArray.length){chosenColorList.emptyList()}var a=Math.floor(Math.random()*colorsArray.length)}while(chosenColorList.indexOf(a)!=-1);chosenColorList.add(a);for(var b=0;b<8;b++){planeArray[planeNumber][b].color=colorsArray[a];var f="#cell"+planeArray[planeNumber][b].i+""+planeArray[planeNumber][b].j;$(f).css("background-color",colorsArray[a]).css("opacity",undefinedOpacity);remove_from_openset(planeArray[planeNumber][b])}planeNumber++}function proceed(){if(canproceed){$("#right-grid-getReady").fadeOut("slow",function(){html=$("#right-grid-selectOpp").html();var a="<div class='info-container' id='playerNameContainer' style='margin-top: 125px;' ><input id = 'nameEnter' value='Enter your name here'></input><div class='btn' onClick='checkName()' style='float:right; margin-right:19px;' > Go </div> </div>";$("#right-grid-selectOpp").html(a);$("#right-grid-selectOpp").fadeIn("slow")});planesLocked=true}}function checkName(){if(infoContainer==""){infoContainer=$("#playerNameContainer").html()}if(playerName!=""&&playerName.length<15){socket.emit("setPlayerName",playerName);socket.on("playerNameStatus",function(b){if(b=="ok"){socket.emit("setPlayerPlanes",planeArray);socket.emit("setPlayerReady",1);$("#right-grid-selectOpp").fadeOut("slow",function(){$("#right-grid-selectOpp").html(html);$("#right-grid-selectOpp").fadeIn("slow",function(){socket.emit("fetchUsers");fetchedUsers()})})}else{var a="<div id='takenName' >Name already taken or forbidden</div>";$("#playerNameContainer").html(infoContainer+a)}})}}socket.on("playerReadyStatus",function(a){if(a.playerStatus==1){$("#"+a.playerName).removeClass();$("#"+a.playerName).addClass("selectOpponent");playerReady=1}else{$("#"+a.playerName).removeClass();$("#"+a.playerName).addClass("selectOpponentChange");playerReady=0}});socket.on("wrongPlanes",function(){alertify.alert("Tzc, tzc. You modified some javascript didn't you?")});function fetchedUsers(){socket.on("users",function(b){var c="";for(var a=0;a<b.allusers.length;a++){if(playerName!=b.allusers[a]){c+="<div class='selectOpponent' id='"+b.allusers[a]+"'>"+b.allusers[a]+"</div>"}}allUsers=b.allusers;$("#opponents").html(c).slideDown("slow");if(b.userNo==1){$("#oppnumber").html("There is <strong>"+(b.userNo)+"</strong> Opponent 	&nbsp;	| &nbsp; <strong> You</strong>  are:")}else{$("#oppnumber").html("There are <strong>"+(b.userNo)+"</strong> Opponents &nbsp;	| &nbsp; <strong> You</strong>  are:")}})}function filterOutput(){var b=$("#filterBox").val();var c="";for(var a=0;a<allUsers.length;a++){if(allUsers[a].indexOf(b)>-1&&playerName!=allUsers[a]){c+="<div class='selectOpponent' id='"+allUsers[a]+"'>"+allUsers[a]+"</div>"}}$("#opponents").html(c)}$(document).on("click",".selectOpponent",function(){var a=$(this).attr("id");socket.emit("askPlayerForGame",a)});socket.on("questionForGame",function(a){alertify.set({labels:{ok:"Accept",cancel:"Decline"}});alertify.confirm(a+" asks you to play a game together.",function(b){if(b){socket.emit("responseForGame",{playerName:a,response:1});socket.emit("setPlayerReady",0)}else{socket.emit("responseForGame",{playerName:a,response:0});socket.emit("setPlayerReady",1)}})});socket.on("playerDeclined",function(a){alertify.set({labels:{ok:"Ok"}});alertify.alert(a+"  has rejected your request.");socket.emit("setPlayerReady",1)});socket.on("startingGame",function(a){var c="";oppName=a;for(var d=0;d<10;d++){oppmatrix[d]=[];for(var b=0;b<10;b++){oppmatrix[d][b]=new Cell(d,b);c+="<span class = 'oppcell' id='oppcell"+d+""+b+"'  ></span>"}}for(var d=0;d<10;d++){chosenPoints[d]=[];for(var b=0;b<10;b++){chosenPoints[d][b]=0}}$("#oppgrid").html(c);$("#right-grid-selectOpp").fadeOut(function(){$("#right-grid-Play").fadeIn(function(){$(".game-info-container").fadeIn("slow",function(){$(".game-info-container").css("width","420px");setTimeout(function(){$("#second-game-info-box").fadeOut("slow",function(){$("#fuckjquery").fadeIn("slow")})},1000)})})})});socket.on("planesNotReady",function(){alertify.set({labels:{ok:"Ok"}});alertify.alert(" Your planes are not ready.")});socket.on("oppPlanesNotReady",function(){alertify.set({labels:{ok:"Ok"}});alertify.alert(" Your opponent's planes are not ready.")});socket.on("roundSelfResponse",function(c){var b="#oppcell"+c.i+""+c.j;var a=$(b).css("background-color");if(c.hit==-1){$("#turninfo").html("It's "+oppName+"'s Turn <span id='countdown'></span>")}if(c.hit==0){$(b).addClass("air-cell");$(b).css("background-color",a)}else{if(c.hit==1){$(b).addClass("hit-cell");$(b).css("background-color",a)}else{if(c.hit==2){$(b).addClass("skull-cell");$(b).css("background-color",a)}}}});socket.on("roundOppResponse",function(d){$("#countdown").css("color","green");$("#turninfo").html("It's your Turn <span id='countdown'></span>");var c=31;if(d.hit==-1){var c=34}round=1;timer=setInterval(function(){c--;var e=""+c;document.getElementById("countdown").innerHTML=e;if(c==5){$("#countdown").css("color","red")}if(c==0){do{var g=Math.floor((Math.random()*10));var f=Math.floor((Math.random()*10))}while(chosenPoints[g][f]!=0);chosenPoints[g][f]=1;socket.emit("roundResult",{i:g,j:f});clearInterval(timer)}},1000);var b="#cell"+d.i+""+d.j;var a=$(b).css("background-color");if(d.hit==0){$(b).addClass("air-cell");$(b).css("background-color",a)}else{if(d.hit==1){$(b).addClass("hit-cell");$(b).css("background-color",a)}else{if(d.hit==2){$(b).addClass("skull-cell");$(b).css("background-color",a)}}}});socket.on("gameOver",function(d){if(d.winner==2){alertify.set({labels:{ok:"Ok"}});alertify.alert("You won. Opponent disconnected.")}else{if(d.winner==1){alertify.set({labels:{ok:"Ok"}});alertify.alert("You won.")}else{alertify.set({labels:{ok:"Ok"}});alertify.alert("You lost.")}}for(var b=2;b>=0;b--){for(var a=7;a>=0;a--){var c="#oppcell"+d.oppPlanes[b][a].i+""+d.oppPlanes[b][a].j;oppmatrix[d.oppPlanes[b][a].i][d.oppPlanes[b][a].j]=d.oppPlanes[b][a];$(c).css("background-color",d.oppPlanes[b][a].color)}}$("#turninfo").html("<div class='btn2' id='finishUp' onClick='finishGameAndComeBack()'> Finish Up </div>")});function finishGameAndComeBack(){$("#ready").css("width","110");setTimeout(function(){$("#ready").removeClass();$("#ready").addClass("unready");$("#ready").html("pending");playerReady=0},500);$("#fuckjquery").fadeOut("slow",function(){$("#second-game-info-box").fadeIn()});$("#right-grid-Play").fadeOut("slow",function(){$("#right-grid-selectOpp").fadeIn();planesLocked=false;resetGrid("all")})}$(document).on("mousedown",".oppcell",function(){if(round==1){var d=$(this).attr("id").slice(-2).charAt(0);var c=$(this).attr("id").slice(-1);if(oppmatrix[d][c].color.length==3){chosenPoints[d][c]=1;socket.emit("roundResult",{i:d,j:c});clearInterval(timer);$("#turninfo").html("It's "+oppName+"'s Turn <span id='countdown'></span>")}else{$(this).css("background-color","red").css("opacity","1");$(chosenOppCell).css("background-color","white").css("opacity",undefinedOpacity);oppmatrix[d][c].color="red";if(chosenOppCell.length>1){var b=chosenOppCell.slice(-2).charAt(0);var a=chosenOppCell.slice(-1);oppmatrix[b][a].color="white"}}chosenOppCell="#oppcell"+d+""+c}});function getReady(){if(canproceed){socket.emit("setPlayerPlanes",planeArray);socket.emit("setPlayerReady",1);planesLocked=true;$("#ready").css("width","100px");setTimeout(function(){$("#ready").removeClass();$("#ready").addClass("ready");$("#ready").html("ready");playerReady=1},500)}}function resetGrid(d){if(d==="all"){var b="";for(var c=0;c<10;c++){matrix[c]=[];for(var a=0;a<10;a++){matrix[c][a]=new Cell(c,a);b+="<span class = 'cell' id='cell"+c+""+a+"'  ></span>"}}$("#yourgrid").html(b);loadExampleCells();var f=[];for(var c=0;c<100;c++){if(c<10){f[c]="#cell0"+c}else{f[c]="#cell"+c}}shuffle(f);var e=20;for(var c=0;c<f.length;c++){e+=29;$(f[c]).fadeIn(e)}}else{for(var c=0;c<10;c++){for(var a=0;a<10;a++){matrix[c][a]=new Cell(c,a);var g="#cell"+c+""+a;$(g).css("background-color","white")}}}openset=[];opensetSize=0;planeNumber=0;checkProceed()}function randomise(){var b=0;resetGrid("");while(b<3){var c=Math.floor((Math.random()*4));switch(c){case 0:var a=Math.floor((Math.random()*7));var d=Math.floor((Math.random()*8)+1);if(planeArray_contains(matrix[a+1][d])){break}if(planeArray_contains(matrix[a+1][d+1])){break}if(planeArray_contains(matrix[a+1][d-1])){break}if(planeArray_contains(matrix[a+2][d])){break}if(planeArray_contains(matrix[a+3][d])){break}if(planeArray_contains(matrix[a+3][d-1])){break}if(planeArray_contains(matrix[a+3][d+1])){break}if(planeArray_contains(matrix[a][d])){break}definePlane(matrix[a][d],"north");b++;break;case 2:var a=Math.floor((Math.random()*7)+3);var d=Math.floor((Math.random()*8)+1);if(planeArray_contains(matrix[a-1][d])){break}if(planeArray_contains(matrix[a-1][d+1])){break}if(planeArray_contains(matrix[a-1][d-1])){break}if(planeArray_contains(matrix[a-2][d])){break}if(planeArray_contains(matrix[a-3][d])){break}if(planeArray_contains(matrix[a-3][d-1])){break}if(planeArray_contains(matrix[a-3][d+1])){break}if(planeArray_contains(matrix[a][d])){break}definePlane(matrix[a][d],"south");b++;break;case 1:var d=Math.floor((Math.random()*7));var a=Math.floor((Math.random()*8)+1);if(planeArray_contains(matrix[a][d+1])){break}if(planeArray_contains(matrix[a+1][d+1])){break}if(planeArray_contains(matrix[a-1][d+1])){break}if(planeArray_contains(matrix[a][d+2])){break}if(planeArray_contains(matrix[a][d+3])){break}if(planeArray_contains(matrix[a+1][d+3])){break}if(planeArray_contains(matrix[a-1][d+3])){break}if(planeArray_contains(matrix[a][d])){break}definePlane(matrix[a][d],"east");b++;break;case 3:var d=Math.floor((Math.random()*7)+3);var a=Math.floor((Math.random()*8)+1);if(planeArray_contains(matrix[a][d-1])){break}if(planeArray_contains(matrix[a+1][d-1])){break}if(planeArray_contains(matrix[a-1][d-1])){break}if(planeArray_contains(matrix[a][d-2])){break}if(planeArray_contains(matrix[a][d-3])){break}if(planeArray_contains(matrix[a+1][d-3])){break}if(planeArray_contains(matrix[a-1][d-3])){break}if(planeArray_contains(matrix[a][d])){break}definePlane(matrix[a][d],"west");b++;break}console.log("looping")}checkProceed()}function planeArray_contains(a){var c=false;for(var d=0;d<planeNumber;d++){for(var b=0;b<8;b++){if(planeArray[d][b].i==a.i&&planeArray[d][b].j==a.j){c=true;break}}}return c}function clearRed(){for(var a=0;a<opensetSize;a++){var b="#cell"+openset[a].i+""+openset[a].j;$(b).css("background-color","white").css("opacity",undefinedOpacity);openset[a].color="white"}openset=[];opensetSize=0;checkProceed()}function checkProceed(){if(planeNumber==3&&opensetSize==0){$(".proceed").toggleClass("proceed-change");canproceed=true}else{$(".proceed").removeClass().toggleClass("proceed");canproceed=false}}function shuffle(d){for(var b,a,c=d.length;c;b=Math.floor(Math.random()*c),a=d[--c],d[c]=d[b],d[b]=a){}return d}function openset_indexOf(a){var b=-1;for(var c=0;c<opensetSize;c++){if(openset[c].i==a.i&&openset[c].j==a.j){b=c;break}}return b}function add_to_openset(a){openset[opensetSize]=a;opensetSize++}function remove_from_openset(a){var b=openset_indexOf(a);if(b!=-1){for(var c=b;c<opensetSize-1;c++){openset[c]=openset[c+1]}opensetSize--}}function Cell(b,a){this.i=b;this.j=a;this.color="white"}$(document).on("focus","#nameEnter",function(){$("#nameEnter").val("");$("#nameEnter").css("color","black")});$(document).on("blur","#nameEnter",function(){playerName=$("#nameEnter").val();$("#nameEnter").css("color","rgb(204, 204, 255)");if(playerName==""){$("#nameEnter").val("Enter your name here")}});$(document).on("keypress","#nameEnter",function(a){playerName=$("#nameEnter").val();if(a.which==13){checkName()}});$(document).on("focus","#filterBox",function(){$("#filterBox").val("");$("#filterBox").css("color","black")});$(document).on("blur","#filterBox",function(){if($("#filterBox").val()==""){$("#filterBox").val("Type here to filter");$("#filterBox").css("color","rgb(204, 204, 255)")}});$(document).on("click","#ready",function(){if(playerReady==1){setTimeout(function(){$("#ready").removeClass();$("#ready").addClass("unready");$("#ready").html("pending");playerReady=0;socket.emit("setPlayerReady",playerReady)},500);$("#ready").css("width","110")}else{setTimeout(function(){$("#ready").removeClass();$("#ready").addClass("ready");$("#ready").html("ready");playerReady=1;socket.emit("setPlayerReady",playerReady)},500);$("#ready").css("width","100")}});function showRules(){if(rulesUp){$("#copyright").css("height","1020px");$("#rulez").fadeIn();rulesUp=false}else{$("#rulez").fadeOut(function(){$("#copyright").css("height","50px")});rulesUp=true}}function LinkedListNode(){this.data=null;this.next=null}function LinkedList(){this.firstNode=null;this.lastNode=null;this.size=0;this.add=function(b){var a=new LinkedListNode();a.data=b;if(this.firstNode==null){this.firstNode=a;this.lastNode=a}else{this.lastNode.next=a;this.lastNode=a}this.size++;console.log(this.size)};this.remove=function(d){var b=this.firstNode;if(this.size==0){return}var e=false;if(this.size==1){if(d.i==b.data.i&&d.j==b.data.j){this.firstNode.data=null;this.firstNode=null;this.lastNode=null;this.size--;console.log(this.size);return}}while(true){if(b==null){e=false;break}var a=b.next;if(a!=null){if((d.i==a.data.i&&d.j==a.data.j)){var c=a.next;b.next=c;a=null;e=true;break}}b=b.next}if(e){this.size--;console.log(this.size)}};this.getSize=function(){return this.size};this.indexOf=function(d){var b=this.firstNode;var a=0;var c=false;for(;;a++){if(b==null){break}if(d==b.data){c=true;break}b=b.next}if(!c){a=-1}return a};this.toString=function(){var a=this.firstNode;result="{";for(i=0;a!=null;i++){if(i>0){result+=","}var b=a.data;result+=(b==null?"":b);a=a.next}result+="}";return result};this.emptyList=function(){this.firstNode=null;this.lastNode=null;this.size=0}};